<div class="stock-out-container">
  <h2>Stock Out</h2>
  <form [formGroup]="formStockOut" (ngSubmit)="addStockOut()">
    <!-- Item Selection -->
    <div class="form-group">
      <label for="itemId">Select Item</label>
      <select id="itemId" formControlName="itemId" class="form-control" (change)="onItemSelect($event)">
        <option value="">-- Select Item --</option>
        <option *ngFor="let item of inventory" [value]="item.id">{{ item.categoryName }}</option>
      </select>
      <div *ngIf="formStockOut.get('itemId')?.invalid && formStockOut.get('itemId')?.touched" class="error-message">
        Item is required.
      </div>
    </div>

    <!-- Quantity -->
    <div class="form-group">
      <label for="quantity">Quantity</label>
      <input
        type="number"
        id="quantity"
        formControlName="quantity"
        class="form-control"
        [min]="1"
        placeholder="Enter quantity"
      />
      <div *ngIf="formStockOut.get('quantity')?.invalid && formStockOut.get('quantity')?.touched" class="error-message">
        Quantity is required and must be greater than 0.
      </div>
    </div>

    <!-- Transaction Date -->
    <div class="form-group">
      <label for="transactionDate">Transaction Date</label>
      <input
        type="date"
        id="transactionDate"
        formControlName="transactionDate"
        class="form-control"
        [max]="getTodayDate()"
      />
      <div *ngIf="formStockOut.get('transactionDate')?.invalid && formStockOut.get('transactionDate')?.touched" class="error-message">
        Transaction Date is required.
      </div>
    </div>

    <!-- Submit -->
    <button type="submit" class="btn btn-primary" [disabled]="formStockOut.invalid">
      Add Stock Out
    </button>
  </form>

  <!-- Success Message -->
  <div *ngIf="submitted && formStockOut.valid" class="success-message">
    Stock Out has been successfully recorded!
  </div>
</div>
